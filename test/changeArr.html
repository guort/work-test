<!doctype html><html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no" />
<meta content="email=no" name="format-detection" />
<meta name="apple-touch-fullscreen" content="YES">
<meta name="format-detection" content="telephone=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>弹窗demo</title>
</head><body>
<script src="jc/xdTools.js"></script>
</body></html>
<script type="text/javascript">

var datalits=["2017.05.09", "2017.05.12"];

var data={'test-医院1':[{goodsguid: null,goodsname: null,row: "2017.05.12",value: "133.33",name: null}],'武汉市中南医院':[{goodsguid: null, goodsname: null, row: "2017.05.09", value: "14220.00", name: null},{goodsguid: null, goodsname: null, row: "2017.05.12", value: "24836.67", name: null}]}

var formate_data=formateDate(datalits,data)

console.log(formate_data)


function formateDate($arr,$obj){
	var datalist=$arr||[],obj=$obj||{},datalistlength=datalist.length,key,finalData=obj,a
	for(key in obj){
		a=formate(obj[key],'row')
		finalData[key]=a
	}
	function formate($array,$n){
		var array=$array||[],listname,da,n=$n||'name',name=''
		if(!array.length){
			array=[array]
		}
		for(var i=0;i<datalistlength;i++){
			listname=datalist[i];
			da=array[i]||{};
			name=da[n]||""
			if(listname!=name){
				array.splice(i,0,{'row':listname,"value":""})
			}else{

			}
		}
		return array
	}
	return finalData
}


//"gamewinner"


</script>